<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Growatt Service Assistant Pro</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600;700&display=swap" rel="stylesheet">
    
    <style>
        :root {
            /* Identidad Growatt: Verde Lima y Carbón */
            --bg-gradient: linear-gradient(135deg, #000000, #1b2e1b, #000000);
            --growatt-green: #62BB46;
            --growatt-dark: #231F20;
            --success: #62BB46;
            --warning: #ffcc00;
            --error: #ff3333;
            --card-bg: rgba(255, 255, 255, 0.08);
            --glass: rgba(0, 0, 0, 0.85);
        }

        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: 'Montserrat', sans-serif; background: var(--bg-gradient); background-attachment: fixed; color: white; overflow-x: hidden; padding-bottom: 60px; }

        /* --- HEADER --- */
        #xs-header {
            background: var(--glass); backdrop-filter: blur(15px);
            position: fixed; top: 0; width: 100%; height: 70px;
            display: flex; justify-content: center; align-items: center;
            z-index: 1000; border-bottom: 1px solid rgba(98, 187, 70, 0.3);
            transition: 0.3s;
        }
        .logo-title { font-size: 20px; letter-spacing: 2px; text-transform: uppercase; }
        .logo-title span { color: var(--growatt-green); font-weight: 700; }

        .main-container { padding: 90px 0 20px 0; max-width: 600px; margin: 0 auto; }

        /* --- ESTATUS --- */
        .status-card {
            background: var(--card-bg); border-radius: 20px; padding: 20px;
            border: 1px solid rgba(255,255,255,0.1); margin: 0 15px 25px 15px;
            backdrop-filter: blur(10px); display: flex; align-items: center; gap: 15px;
        }
        .status-dot { width: 12px; height: 12px; background: var(--success); border-radius: 50%; box-shadow: 0 0 10px var(--success); transition: 0.3s; }
        .status-card.alert-grave { border-color: var(--error); }
        .status-card.alert-grave .status-dot { background: var(--error); box-shadow: 0 0 10px var(--error); }
        .status-card.alert-adv { border-color: var(--warning); }
        .status-card.alert-adv .status-dot { background: var(--warning); box-shadow: 0 0 10px var(--warning); }

        /* --- NOVEDADES --- */
        .news-container { display: flex; overflow-x: auto; gap: 12px; padding: 5px 15px 15px 15px; scrollbar-width: none; }
        .news-card {
            min-width: 140px; background: linear-gradient(to bottom, rgba(98, 187, 70, 0.15), rgba(0,0,0,0.5));
            padding: 15px; border-radius: 15px; border: 1px solid rgba(98, 187, 70, 0.3); text-align: center;
            cursor: pointer; transition: 0.2s;
        }
        .news-card i { font-size: 20px; color: white; margin-bottom: 8px; display: block; }
        .news-card p { font-size: 11px; font-weight: 600; }

        /* --- RECURSOS DE CAMPO --- */
        .field-resources-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 12px; padding: 0 15px; }
        .field-card {
            background: var(--card-bg); padding: 20px; border-radius: 15px;
            text-align: center; text-decoration: none; color: white;
            border: 1px solid rgba(255,255,255,0.05); transition: 0.3s;
        }
        .field-card:active { transform: scale(0.95); background: rgba(255, 255, 255, 0.12); }
        .field-card i { font-size: 24px; color: var(--growatt-green); margin-bottom: 10px; display: block; }
        .field-card span { font-size: 12px; font-weight: 600; }

        /* --- SECCIONES --- */
        .section-header { font-size: 13px; padding: 10px; margin: 25px 15px 12px 15px; border-left: 4px solid var(--growatt-green); background: rgba(255, 255, 255, 0.03); text-transform: uppercase; font-weight: 700; }
        .search-box { width: calc(100% - 30px); margin: 0 15px 10px 15px; padding: 18px; border-radius: 15px; border: 2px solid var(--growatt-green); background: rgba(0,0,0,0.3); color: white; font-size: 16px; outline: none; }
        
        /* --- RESULTADOS --- */
        .alarm-result { background: rgba(0,0,0,0.6); padding: 18px; border-radius: 12px; margin: 0 15px 15px 15px; border: 1px solid rgba(255,255,255,0.1); }
        .code-badge { background: var(--growatt-green); padding: 4px 10px; border-radius: 6px; font-weight: 700; font-size: 12px; margin-right: 10px; color: #000; }
        .severity-badge { font-size: 10px; text-transform: uppercase; font-weight: 700; padding: 2px 6px; border-radius: 4px; margin-left: auto; }
        .sev-error { background: var(--error); color: white; }
        .sev-warning { background: var(--warning); color: black; }
        
        .result-body { margin-top: 12px; font-size: 13px; }
        .result-body b { color: var(--growatt-green); }
        .measure-box { margin-top: 10px; padding: 10px; background: rgba(255,255,255,0.05); border-radius: 8px; color: #81c784; border-left: 2px solid var(--success); }

        /* --- DOCUMENTACIÓN PDF --- */
        .pdf-grid { display: grid; grid-template-columns: 1fr; gap: 12px; padding: 0 15px; }
        .pdf-card { 
            background: var(--card-bg); padding: 18px; border-radius: 15px; 
            display: flex; align-items: center; gap: 15px; text-decoration: none; 
            color: white; border: 1px solid rgba(255,255,255,0.1); transition: 0.3s;
        }
        .pdf-card i { font-size: 24px; color: var(--growatt-green); }
        .pdf-info h4 { font-size: 14px; margin-bottom: 2px; }
        .pdf-info p { font-size: 11px; color: #94a3b8; }

        /* --- GUÍA DE LEDS --- */
        /* Estilos mejorados para los indicadores Growatt */
    .led-indicator {
        width: 18px;
        height: 18px;
        border-radius: 50%;
        margin-bottom: 12px;
        display: block;
        position: relative;
    }

    /* Efecto Glow de Growatt */
    .led-green { 
        background: #62BB46; 
        box-shadow: 0 0 15px rgba(98, 187, 70, 0.9), inset 0 0 5px white; 
    }
    .led-red { 
        background: #ff3333; 
        box-shadow: 0 0 15px rgba(255, 51, 51, 0.9), inset 0 0 5px white; 
    }

    /* Parpadeo Rápido (Alarmas) */
    .led-blink {
        animation: blink-fast 0.8s infinite;
    }

    /* Parpadeo Lento (Arranque/Standby) */
    .led-blink-slow {
        animation: blink-slow 2.5s infinite;
    }

    @keyframes blink-fast {
        0%, 100% { opacity: 1; transform: scale(1); }
        50% { opacity: 0.3; transform: scale(0.9); }
    }

    @keyframes blink-slow {
        0%, 100% { opacity: 1; }
        50% { opacity: 0.1; }
    }

    .led-card {
        background: rgba(255, 255, 255, 0.05);
        border: 1px solid rgba(255, 255, 255, 0.1);
        padding: 15px;
        border-radius: 15px;
        transition: 0.3s;
    }
    .led-card h4 { font-size: 13px; margin-bottom: 5px; font-weight: 700; }
    .led-card p { font-size: 10px; color: #94a3b8; line-height: 1.4; }

        /* --- ACADEMIA --- */
        .video-slider { display: flex; overflow-x: auto; gap: 12px; padding: 10px 15px 25px 15px; scrollbar-width: none; -webkit-overflow-scrolling: touch; scroll-snap-type: x mandatory; }
        .video-item { min-width: 80%; background: var(--card-bg); border-radius: 18px; overflow: hidden; border: 1px solid rgba(255, 255, 255, 0.1); flex-shrink: 0; scroll-snap-align: center; }
        .video-frame { position: relative; width: 100%; padding-bottom: 56.25%; height: 0; background: #000; }
        .video-frame iframe { position: absolute; top: 0; left: 0; width: 100%; height: 100%; border: none; }

        /* --- MODAL --- */
        #tech-modal { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.8); backdrop-filter: blur(10px); z-index: 2000; display: none; justify-content: center; align-items: center; padding: 20px; }
        .modal-content { background: rgba(0,0,0,0.9); border: 1px solid var(--growatt-green); border-radius: 20px; padding: 25px; width: 100%; max-width: 400px; position: relative; }
        .close-modal { position: absolute; top: 15px; right: 15px; font-size: 20px; color: #aaa; cursor: pointer; }
        .modal-title { color: var(--growatt-green); font-size: 18px; margin-bottom: 15px; font-weight: 700; border-bottom: 1px solid rgba(255,255,255,0.1); padding-bottom: 10px; }
    </style>
</head>
<body>

    <header id="xs-header">
        <div class="logo-title">GROWATT <span>SERVICE</span></div>
    </header>

    <div id="tech-modal" onclick="closeModal()">
        <div class="modal-content" onclick="event.stopPropagation()">
            <i class="fa-solid fa-xmark close-modal" onclick="closeModal()"></i>
            <div id="modal-data"></div>
        </div>
    </div>

    <div class="main-container">
        <div class="status-card" id="status-card">
            <div class="status-dot"></div>
            <div>
                <p id="status-text" style="font-size: 14px; font-weight: 700;">Estado ShineServer</p>
                <p id="status-subtext" style="font-size: 11px; color: #94a3b8;">Manual Growatt MIN 2500-6000 Cargado</p>
            </div>
        </div>

        <h2 class="section-header">Novedades Growatt</h2>
        <div class="news-container">
            <div class="news-card" onclick="openModal('minxh')"><i class="fa-solid fa-bolt"></i><p>MIN-XH<br>Ready Storage</p></div>
            <div class="news-card" onclick="openModal('ark')"><i class="fa-solid fa-battery-full"></i><p>ARK Battery<br>LFP Cobalto 0</p></div>
            <div class="news-card" onclick="openModal('shine')"><i class="fa-solid fa-wifi"></i><p>ShineWiFi-X<br>Plug & Play</p></div>
        </div>

        <h2 class="section-header">Buscador de Errores y Avisos</h2>
        <input type="text" class="search-box" id="error-search" placeholder="Número de Error (ej. 102, 120)...">
        <div id="alarm-results-container"></div>

      <h2 class="section-header">Recursos de Campo</h2>
<div class="field-resources-grid">
    <a href="go:pdf" class="field-card">
        <i class="fa-solid fa-book-open"></i>
        <span>Manuales<br>MIN / MOD / MID</span>
    </a>

    <a href="go:diagrama" class="field-card">
        <i class="fa-solid fa-diagram-project"></i>
        <span>Pinout Meter<br>Pines 7 y 8</span>
    </a>

    <a href="https://server.growatt.com" target="_blank" class="field-card" style="border: 1px solid var(--growatt-green);">
        <i class="fa-solid fa-cloud" style="color: var(--growatt-green);"></i>
        <span>ShineServer<br>Web Portal</span>
    </a>

    <a href="javascript:void(0)" onclick="openModal('touch')" class="field-card">
        <i class="fa-solid fa-fingerprint"></i>
        <span>Guía de<br>Botón Táctil</span>
    </a>

    <a href="go:zero" class="field-card">
        <i class="fa-solid fa-ban"></i>
        <span>Configurar<br>Inyección Cero</span>
    </a>

    <a href="go:capa" class="field-card">
        <i class="fa-solid fa-graduation-cap"></i>
        <span>Growatt<br>Academy</span>
    </a>
</div>

<div style="margin: 15px; padding: 12px; background: rgba(98, 187, 70, 0.1); border-radius: 12px; border: 1px dashed var(--growatt-green);">
    <p style="font-size: 10px; color: #eee; line-height: 1.4;">
        <i class="fa-solid fa-info-circle" style="color: var(--growatt-green);"></i> 
        <b>Configuración WiFi:</b> Si la App falla, presiona el botón del ShineWiFi por 5s (modo AP) y entra a <b>192.168.10.100</b> desde tu navegador.
    </p>
</div>

        <h2 class="section-header">Documentación Oficial</h2>
<div class="pdf-grid">
    <a href="go:params" class="pdf-card">
        <i class="fa-solid fa-flag"></i>
        <div class="pdf-info">
            <h4>Parámetros CFE / Red</h4>
            <p>Uso de perfiles <b>US</b> o <b>Chile</b> para red México (60Hz).</p>
        </div>
    </a>

    <a href="go:monitor" class="pdf-card">
        <i class="fa-solid fa-wifi"></i>
        <div class="pdf-info">
            <h4>Guía de Monitoreo</h4>
            <p>Configuración de ShineWiFi-X y ShineLan-X paso a paso.</p>
        </div>
    </a>

    <a href="go:storage" class="pdf-card">
        <i class="fa-solid fa-battery-full"></i>
        <div class="pdf-info">
            <h4>Sistemas de Almacenamiento</h4>
            <p>Manual de baterías ARK LFP y cableado de comunicación.</p>
        </div>
    </a>

    <a href="go:afci" class="pdf-card" style="border-color: var(--error);">
        <i class="fa-solid fa-shield-virus" style="color: var(--error);"></i>
        <div class="pdf-info">
            <h4>Guía AFCI (Arco Eléctrico)</h4>
            <p>Cómo resetear el error 200 tras una inspección.</p>
        </div>
    </a>

    <a href="go:warranty" class="pdf-card">
        <i class="fa-solid fa-file-contract"></i>
        <div class="pdf-info">
            <h4>Póliza de Garantía</h4>
            <p>Formatos y requisitos para reclamos en México.</p>
        </div>
    </a>
</div>

<div style="margin: 15px; padding: 12px; background: rgba(255, 51, 51, 0.1); border-radius: 12px; border: 1px solid rgba(255, 51, 51, 0.3); display: flex; align-items: center; gap: 12px;">
    <i class="fa-solid fa-triangle-exclamation" style="font-size: 20px; color: var(--error);"></i>
    <p style="font-size: 10px; color: #aaa;">
        <b>Atención:</b> Si el inversor marca "No AC" o frecuencia errónea, asegúrese de que el Country Code esté en <b>US</b> (Estados Unidos) para sistemas de 60Hz.
    </p>
</div>

        <h2 class="section-header" style="border-left-color: var(--growatt-green)">Indicador LED (Anillo Frontal)</h2>
<div class="led-grid">
    <div class="led-card">
        <div class="led-indicator led-green"></div>
        <h4>Verde Fijo</h4>
        <p><b>Inyección OK.</b> El sistema funciona correctamente e inyecta energía a la red.</p>
    </div>

    <div class="led-card">
        <div class="led-indicator led-red"></div>
        <h4>Rojo Fijo</h4>
        <p><b>Fallo Grave.</b> El inversor ha dejado de inyectar. Revise el código de <b>Error</b>.</p>
    </div>

    <div class="led-card">
        <div class="led-indicator led-red led-blink"></div>
        <h4>Rojo Intermitente</h4>
        <p><b>Aviso/Warning.</b> El sistema sigue operando pero detectó una anomalía externa.</p>
    </div>

    <div class="led-card">
        <div class="led-indicator led-green led-blink-slow"></div>
        <h4>Verde Lento</h4>
        <p><b>Standby.</b> Voltaje CC bajo (noche) o inversor en proceso de sincronización.</p>
    </div>
</div>
<div class="status-card alert-adv" style="margin-top: 20px; border-style: dashed; background: rgba(255, 204, 0, 0.05);">
    <i class="fa-solid fa-lightbulb" style="font-size: 24px; color: var(--warning); margin-right: 15px;"></i>
    <div>
        <p style="font-size: 13px; font-weight: 800; color: var(--warning); text-transform: uppercase; margin-bottom: 4px;">
            Tip Técnico SOLAR RM PRO
        </p>
        <p style="font-size: 11px; line-height: 1.4; color: #ddd;">
            Si el <b>anillo está apagado</b> de día: Toca el botón táctil. Si la pantalla no despierta, 
            la tensión CC de los paneles es insuficiente para alimentar la placa. 
            <b style="color: white;">Verifique voltajes de String.</b>
        </p>
    </div>
</div>
    </div>

    <script>
        window.onscroll = function() {
            var header = document.getElementById("xs-header");
            var scrollPos = window.scrollY;
            header.style.opacity = scrollPos > 100 ? "0" : 1 - (scrollPos / 100);
            header.style.transform = scrollPos > 100 ? "translateY(-70px)" : "translateY(0)";
        };

        const techData = {
            minxh: { title: "Serie MIN 2500-6000TL-XH", info: "Inversor monofásico con interfase de batería integrada. Soporta sobredimensionamiento CC del 40%." },
            ark: { title: "Sistema Growatt ARK LFP", info: "Baterías de litio ferrofosfato modulares (2.56kWh por módulo). Sin cables entre módulos." },
            shine: { title: "ShineWiFi-X", info: "Datalogger USB para monitorización inalámbrica. Soporta carga de datos a la nube en tiempo real." }
        };

        function openModal(key) {
            const data = techData[key];
            document.getElementById('modal-data').innerHTML = `<div class="modal-title">${data.title}</div><p style="font-size:14px; line-height:1.5;">${data.info}</p>`;
            document.getElementById('tech-modal').style.display = 'flex';
        }

        function closeModal() { document.getElementById('tech-modal').style.display = 'none'; }

        // Base de datos de errores Growatt
       const growatt_db = [
    // --- ADVERTENCIAS (WARNINGS) ---
    { id: "200", name: "Fallo de la cadena", severity: "Warning", cause: "Anomalía en los paneles o strings.", measures: "Compruebe que el panel es normal tras el apagado." },
    { id: "201", name: "Cadena anormal", severity: "Warning", cause: "Desbalance de corriente en los strings.", measures: "Verificar conexiones y estado de módulos FV." },
    { id: "202", name: "Aviso de DC SPD", severity: "Warning", cause: "Supresor de picos CC dañado.", measures: "Compruebe el SPD de CC; sustituir si está disparado." },
    { id: "203", name: "Cortocircuito FV / No Bat", severity: "Warning", cause: "Corto en entrada o batería no detectada.", measures: "Revisar circuito FV y cable CAN/BMS de batería ARK." },
    { id: "204", name: "Dry Connect Anormal", severity: "Warning", cause: "Fallo en cableado de conexión en seco.", measures: "Compruebe el cableado de accesorios Dryconnect." },
    { id: "205", name: "PV Boost Anormal", severity: "Warning", cause: "Fallo interno en etapa elevadora.", measures: "Reinicie el inversor. Si persiste, contacte a soporte." },
    { id: "206", name: "Aviso de AC SPD", severity: "Warning", cause: "Supresor de picos CA dañado.", measures: "Verificar SPD de CA tras desconexión." },
    { id: "207", name: "Sobrecorriente USB", severity: "Warning", cause: "Consumo excesivo en puerto USB/Datalogger.", measures: "Desenchufe el ShineWiFi y reconecte tras apagar." },
    { id: "208", name: "Fusible DC Abierto", severity: "Warning", cause: "Fusible de protección fundido.", measures: "Compruebe fusibles de strings tras el apagado." },
    { id: "209", name: "Tensión FV Alta", severity: "Warning", cause: "Voltaje Voc cerca del límite.", measures: "¡Peligro! Desconecte CC inmediatamente y verifique strings." },
    { id: "210", name: "PV Invertido", severity: "Warning", cause: "Polaridad invertida en entrada FV.", measures: "Corregir cables + y - de los paneles." },
    { id: "219", name: "Función PID Anormal", severity: "Warning", cause: "Error en el módulo de recuperación PID.", measures: "Reinicie el inversor." },
    { id: "220", name: "Picadura Desconectar", severity: "Warning", cause: "Conexión de cadena floja o interrumpida.", measures: "Verificar que la conexión de la cadena sea normal." },
    { id: "221", name: "Desequilibrio Corriente", severity: "Warning", cause: "Diferencia de corriente entre strings.", measures: "Verificar que los paneles funcionen correctamente." },
    { id: "303", name: "Sobrecarga de Salida", severity: "Warning", cause: "Potencia de carga excesiva.", measures: "Reduzca la carga conectada al sistema." },
    { id: "304", name: "Circuito Abierto TC", severity: "Warning", cause: "Transformador de corriente (CT) desconectado.", measures: "Comprobar cableado de la pinza CT." },
    { id: "305", name: "TC Invertido", severity: "Warning", cause: "Pinza CT instalada al revés.", measures: "Invierta el sentido de la flecha en la pinza CT." },
    { id: "306", name: "Fallo Comunicación TC", severity: "Warning", cause: "Falla de señal del transformador de corriente.", measures: "Comprobar cableado de comunicación del TC." },
    { id: "307", name: "TC Inalámbrico Time Out", severity: "Warning", cause: "Fallo de enlace con CT inalámbrico.", measures: "Comprobar baterías o señal del transmisor." },
    { id: "308", name: "Circuito Abierto Contador", severity: "Warning", cause: "Medidor (Meter) no detectado.", measures: "Verificar cableado Modbus del medidor." },
    { id: "309", name: "Contador Invertido", severity: "Warning", cause: "Medidor Modbus cableado al revés.", measures: "Compruebe si el cableado del contador está invertido." },
    { id: "310", name: "Detección Zona Cero Anormal", severity: "Warning", cause: "Falla de referencia de tierra.", measures: "Verificar que el cable de tierra esté bien conectado." },
    { id: "400", name: "Ventilador Anormal", severity: "Warning", cause: "Fallo en ventilador interno o externo.", measures: "Limpiar obstrucciones o sustituir ventilador." },
    { id: "401", name: "Medidor Anormal", severity: "Warning", cause: "Fallo de comunicación con Smart Meter.", measures: "Revisar alimentación y Pines 7-8 del medidor." },
    { id: "402", name: "Optimizador Anormal", severity: "Warning", cause: "Fallo con optimizadores Tigo/Growatt.", measures: "Verificar encendido y enlace de optimizadores." },
    { id: "404", name: "EEPROM Anormal", severity: "Warning", cause: "Error de memoria interna.", measures: "Reinicie el inversor." },
    { id: "405", name: "Versión Firmware Anormal", severity: "Warning", cause: "Conflicto de versiones de software.", measures: "Actualice el firmware del inversor." },
    { id: "406", name: "Error Módulo Boost", severity: "Warning", cause: "Fallo en etapa elevadora CC.", measures: "Reinicie el inversor." },
    { id: "408", name: "NTC Roto", severity: "Warning", cause: "Sensor de temperatura dañado.", measures: "Reinicie. Requiere servicio técnico si persiste." },
    { id: "410", name: "CPU Anormal", severity: "Warning", cause: "Error de ejecución en procesador.", measures: "Reinicie el inversor." },
    { id: "411", name: "Sincronización Anormal", severity: "Warning", cause: "Error de señal de sincronía.", measures: "Verificar estabilidad de la red CA." },
    { id: "412", name: "Condición de Red No Cumplida", severity: "Warning", cause: "Voltaje o Frecuencia fuera de rango para arranque.", measures: "Verificar voltajes y configuración de red." },

    // --- ERRORES (ERRORS) ---
    { id: "200", name: "Fallo AFCI", severity: "Error", cause: "Arco eléctrico detectado.", measures: "Revisar conectores MC4 y cables. Reiniciar inversor." },
    { id: "201", name: "Residual I Alto", severity: "Error", cause: "Fuga de corriente a tierra.", measures: "Comprobar aislamiento de paneles y cables CC." },
    { id: "202", name: "Tensión FV Alta (Grave)", severity: "Error", cause: "Voltaje excede el límite máximo.", measures: "¡URGENTE! Abrir seccionador CC y medir strings." },
    { id: "203", name: "Aislamiento FV Bajo", severity: "Error", cause: "Resistencia de aislamiento insuficiente.", measures: "Revisar humedad en conectores y puesta a tierra." },
    { id: "204", name: "PV Invertido (Error)", severity: "Error", cause: "Strings conectados al revés.", measures: "Corregir polaridad en la entrada del equipo." },
    { id: "300", name: "AC V Outrange", severity: "Error", cause: "Voltaje de red fuera de rango.", measures: "Comprobar tensión de CFE y configuración de país." },
    { id: "301", name: "Terminales CA Invertidos", severity: "Error", cause: "Fase y Neutro intercambiados.", measures: "Corregir posición de L y N en la bornera CA." },
    { id: "302", name: "No hay conexión CA", severity: "Error", cause: "Inversor no detecta la red.", measures: "Verificar interruptores de CA y cables de red." },
    { id: "303", name: "NE Anormal", severity: "Error", cause: "Voltaje Neutro-Tierra alto.", measures: "Asegurar conexión fiable del cable de tierra (PE)." },
    { id: "304", name: "AC F Outrange", severity: "Error", cause: "Frecuencia de red fuera de rango.", measures: "Comprobar si la frecuencia está en especificación." },
    { id: "400", name: "Anomalía Componente CC", severity: "Error", cause: "Presencia de CC en la salida de CA.", measures: "Reinicie el inversor. Soporte técnico si persiste." },
    { id: "405", name: "Relé Anormal", severity: "Error", cause: "Fallo en relés internos.", measures: "Reinicie el inversor. Posible daño de hardware." },
    { id: "407", name: "Fallo Autodetección", severity: "Error", cause: "Fallo en rutina de autodiagnóstico.", measures: "Reinicie el inversor." },
    { id: "408", name: "Temperatura NTC Alta", severity: "Error", cause: "Sensor detecta calor excesivo.", measures: "Mejorar ventilación y reiniciar." },
    { id: "409", name: "Tensión de Bus Anormal", severity: "Error", cause: "Voltaje de bus interno inestable.", measures: "Reinicie el inversor." },
    { id: "411", name: "Fallo Comunicación (Interno)", severity: "Error", cause: "Error de datos entre CPUs.", measures: "Reinicie el inversor." },
    { id: "414", name: "Fallo EEPROM", severity: "Error", cause: "Error de escritura en memoria.", measures: "Reinicie. Posible daño de placa control." },
    { id: "417", name: "Discrepancia Protocolo", severity: "Error", cause: "Conflicto de comunicación del sistema.", measures: "Reinicie y actualice Firmware." },
    { id: "420", name: "Daños Módulo GFCI", severity: "Error", cause: "Fallo en sensor de fugas.", measures: "Contactar a Growatt para reparación." },
    { id: "425", name: "Fallo AFCI Autocomprobación", severity: "Error", cause: "Vigilancia de arco fallida.", measures: "Reinicie el inversor." },
    { id: "428", name: "Cortocircuito en Boost", severity: "Error", cause: "Fallo crítico en etapa de potencia.", measures: "Soporte técnico Growatt urgente." },
    { id: "431", name: "Error Chip Monitoreo", severity: "Error", cause: "Fallo en chip de seguridad.", measures: "Reinicie el inversor." },
    { id: "975", name: "Software Inconsistente", severity: "Error", cause: "Versiones de firmware no compatibles.", measures: "Actualizar firmware de todos los componentes." }
];

        const searchInput = document.getElementById('error-search');
        const resultsContainer = document.getElementById('alarm-results-container');
        const sCard = document.getElementById('status-card');
        const sText = document.getElementById('status-text');

        searchInput.addEventListener('input', () => {
            const term = searchInput.value.trim();
            resultsContainer.innerHTML = '';
            if (term.length < 1) { sCard.className = "status-card"; sText.innerText = "Estado ShineServer"; return; }

            const filtered = growatt_db.filter(x => x.id.includes(term) || x.name.toLowerCase().includes(term.toLowerCase()));

            if (filtered.length > 0) {
                const top = filtered[0];
                if (top.severity === "Error") sCard.className = "status-card alert-grave", sText.innerText = "Fallo de Sistema";
                else sCard.className = "status-card alert-adv", sText.innerText = "Advertencia Activa";

                filtered.forEach(x => {
                    const div = document.createElement('div');
                    div.className = 'alarm-result';
                    div.innerHTML = `
                        <div style="display:flex; align-items:center;">
                            <span class="code-badge">ID: ${x.id}</span>
                            <strong style="font-size:13px; flex:1;">${x.name}</strong>
                            <span class="severity-badge sev-${x.severity.toLowerCase()}">${x.severity}</span>
                        </div>
                        <div class="result-body">
                            <p><b>CAUSA:</b> ${x.cause}</p>
                            <div class="measure-box"><b>SOLUCIÓN:</b> ${x.measures}</div>
                        </div>
                    `;
                    resultsContainer.appendChild(div);
                });
            }
        });
    </script>
</body>
</html>